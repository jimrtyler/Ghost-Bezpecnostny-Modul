# üëª Ghost Bezpeƒçnostn√Ω Modul
**PowerShell n√°stroj na posilnenie bezpeƒçnosti Windows a Azure**

> **Proakt√≠vne posilnenie bezpeƒçnosti pre Windows koncov√© body a Azure prostredia.** Ghost poskytuje funkcie na posilnenie zalo≈æen√© na PowerShell, ktor√© m√¥≈æu pom√¥c≈• zn√≠≈æi≈• be≈æn√© vektory √∫tokov vypnut√≠m nepotrebn√Ωch slu≈æieb a protokolov.

## ‚ö†Ô∏è D√¥le≈æit√© upozornenia

**TESTOVANIE POVINN√â**: V≈ædy najprv testujte Ghost v neprodukƒçn√Ωch prostrediach. Vypnutie slu≈æieb m√¥≈æe ovplyvni≈• legit√≠mne obchodn√© funkcie.

**≈ΩIADNE Z√ÅRUKY**: Hoci Ghost ciela na be≈æn√© vektory √∫tokov, ≈æiadny bezpeƒçnostn√Ω n√°stroj nem√¥≈æe zabr√°ni≈• v≈°etk√Ωm √∫tokom. Toto je jeden komponent v komplexnej bezpeƒçnostnej strat√©gii.

**PREV√ÅDZKOV√ù DOPAD**: Niektor√© funkcie m√¥≈æu ovplyvni≈• funkcionalitu syst√©mu. Pred nasaden√≠m starostlivo presk√∫majte ka≈æd√© nastavenie.

**PROFESION√ÅLNE HODNOTENIE**: Pre produkƒçn√© prostredia sa poraƒète s bezpeƒçnostn√Ωmi expertmi, aby ste zabezpeƒçili, ≈æe nastavenia s√∫ v s√∫lade s potrebami va≈°ej organiz√°cie.

## üìä Bezpeƒçnostn√° krajina

≈†kody od ransomware dosiahli **57 mili√°rd dol√°rov v roku 2025**, v√Ωskum ukazuje, ≈æe mnoho √∫spe≈°n√Ωch √∫tokov vyu≈æ√≠va z√°kladn√© slu≈æby Windows a nespr√°vne konfigur√°cie. Be≈æn√© vektory √∫tokov zah≈ï≈àaj√∫:

- **90% incidentov ransomware** zah≈ï≈àa zneu≈æitie RDP
- **Zraniteƒænosti SMBv1** umo≈ænili √∫toky ako WannaCry a NotPetya
- **Makr√° dokumentov** zost√°vaj√∫ prim√°rnou met√≥dou doruƒçovania malv√©ru
- **√ötoky zalo≈æen√© na USB** naƒèalej cielene √∫toƒçia na air-gap siete
- **Zneu≈æ√≠vanie PowerShell** sa v√Ωrazne zv√Ω≈°ilo v posledn√Ωch rokoch

## üõ°Ô∏è Ghost bezpeƒçnostn√© funkcie

Ghost poskytuje **16 funkci√≠ na posilnenie Windows** plus **integr√°ciu bezpeƒçnosti Azure**:

### Posilnenie Windows koncov√Ωch bodov

| Funkcia | √öƒçel | √övahy |
|----------|---------|----------------|
| `Set-RDP` | Spravuje pr√≠stup Remote Desktop | M√¥≈æe ovplyvni≈• vzdialen√∫ spr√°vu |
| `Set-SMBv1` | Kontroluje star√Ω protokol SMB | Potrebn√Ω pre veƒæmi star√© syst√©my |
| `Set-AutoRun` | Kontroluje AutoPlay/AutoRun | M√¥≈æe ovplyvni≈• pohodlie pou≈æ√≠vateƒæa |
| `Set-USBStorage` | Obmedzuje USB √∫lo≈æn√© zariadenia | M√¥≈æe ovplyvni≈• legit√≠mne pou≈æ√≠vanie USB |
| `Set-Macros` | Kontroluje vykon√°vanie Office makier | M√¥≈æe ovplyvni≈• dokumenty s povolen√Ωmi makrami |
| `Set-PSRemoting` | Spravuje PowerShell remoting | M√¥≈æe ovplyvni≈• vzdialen√∫ spr√°vu |
| `Set-WinRM` | Kontroluje Windows Remote Management | M√¥≈æe ovplyvni≈• vzdialen√∫ spr√°vu |
| `Set-LLMNR` | Spravuje protokol rozl√≠≈°enia mien | Zvyƒçajne bezpeƒçn√© na vypnutie |
| `Set-NetBIOS` | Kontroluje NetBIOS cez TCP/IP | M√¥≈æe ovplyvni≈• star≈°ie aplik√°cie |
| `Set-AdminShares` | Spravuje administrat√≠vne zdieƒæania | M√¥≈æe ovplyvni≈• vzdialen√Ω pr√≠stup k s√∫borom |
| `Set-Telemetry` | Kontroluje zber √∫dajov | M√¥≈æe ovplyvni≈• diagnostick√© schopnosti |
| `Set-GuestAccount` | Spravuje √∫ƒçet hos≈•a | Zvyƒçajne bezpeƒçn√© na vypnutie |
| `Set-ICMP` | Kontroluje ping odpovede | M√¥≈æe ovplyvni≈• sie≈•ov√∫ diagnostiku |
| `Set-RemoteAssistance` | Spravuje Remote Assistance | M√¥≈æe ovplyvni≈• oper√°cie help desk |
| `Set-NetworkDiscovery` | Kontroluje objavovanie siete | M√¥≈æe ovplyvni≈• prehliadanie siete |
| `Set-Firewall` | Spravuje Windows Firewall | Kritick√© pre sie≈•ov√∫ bezpeƒçnos≈• |

### Azure cloudov√° bezpeƒçnos≈•

| Funkcia | √öƒçel | Po≈æiadavky |
|----------|---------|--------------|
| `Set-AzureSecurityDefaults` | Povoƒæuje z√°kladn√∫ bezpeƒçnos≈• Azure AD | Opr√°vnenia Microsoft Graph |
| `Set-AzureConditionalAccess` | Konfiguruje politiky pr√≠stupu | Licencovanie Azure AD P1/P2 |
| `Set-AzurePrivilegedUsers` | Audituje privilegovan√© √∫ƒçty | Opr√°vnenia Global Admin |

### Mo≈ænosti podnikov√©ho nasadenia

| Met√≥da | Pr√≠pad pou≈æitia | Po≈æiadavky |
|--------|----------|--------------|
| **Priame spustenie** | Testovanie, mal√© prostredia | Lok√°lne admin pr√°va |
| **Group Policy** | Dom√©nov√© prostredia | Domenov√Ω admin, GP spr√°va |
| **Microsoft Intune** | Cloudov√© spravovan√© zariadenia | Licencovanie Intune, Graph API |

## üöÄ R√Ωchly ≈°tart

### Hodnotenie bezpeƒçnosti
```powershell
# Naƒç√≠tajte modul Ghost
IEX(Invoke-WebRequest 'https://raw.githubusercontent.com/jimrtyler/Ghost/main/Ghost.ps1')

# Skontrolujte aktu√°lny bezpeƒçnostn√Ω postoj
Get-Ghost
```

### Z√°kladn√© posilnenie (najprv testova≈•)
```powershell
# Z√°kladn√© posilnenie - najprv testova≈• v laborat√≥rnom prostred√≠
Set-Ghost -SMBv1 -AutoRun -Macros

# Presk√∫majte zmeny
Get-Ghost
```

### Podnikov√© nasadenie
```powershell
# Nasadenie Group Policy (dom√©nov√© prostredia)
Set-Ghost -SMBv1 -AutoRun -GroupPolicy

# Nasadenie Intune (cloudov√© spravovan√© zariadenia)
Set-Ghost -SMBv1 -RDP -USBStorage -Intune
```

## üìã Met√≥dy in≈°tal√°cie

### Mo≈ænos≈• 1: Priame stiahnutie (testovanie)
```powershell
IEX(Invoke-WebRequest 'https://raw.githubusercontent.com/jimrtyler/Ghost/main/Ghost.ps1')
```

### Mo≈ænos≈• 2: In≈°tal√°cia modulu
```powershell
# Nain≈°talova≈• z PowerShell Gallery (keƒè je dostupn√©)
Install-Module Ghost -Scope CurrentUser
Import-Module Ghost
```

### Mo≈ænos≈• 3: Podnikov√© nasadenie
```powershell
# Skop√≠rova≈• na sie≈•ov√© umiestnenie pre nasadenie Group Policy
# Nakonfigurova≈• Intune PowerShell skripty pre cloudov√© nasadenie
```

## üíº Pr√≠klady pr√≠padov pou≈æitia

### Mal√Ω podnik
```powershell
# Z√°kladn√° ochrana s minim√°lnym dopadom
Set-Ghost -SMBv1 -AutoRun -Macros -ICMP
```

### Zdravotn√≠cke prostredie
```powershell
# HIPAA zameran√© posilnenie
Set-Ghost -SMBv1 -RDP -USBStorage -AdminShares -Telemetry
```

### Finanƒçn√© slu≈æby
```powershell
# Vysok√° bezpeƒçnostn√° konfigur√°cia
Set-Ghost -RDP -SMBv1 -AutoRun -USBStorage -Macros -PSRemoting -AdminShares
```

### Cloud-First organiz√°cia
```powershell
# Intune spravovan√© nasadenie
Connect-IntuneGhost -Interactive
Set-Ghost -SMBv1 -RDP -AutoRun -Macros -Intune
```

## üîç Podrobnosti funkci√≠

### Hlavn√© funkcie posilnenia

#### Sie≈•ov√© slu≈æby
- **RDP**: Blokuje pr√≠stup k vzdialenej ploche alebo randomizuje port
- **SMBv1**: Vyp√≠na star√Ω protokol zdieƒæania s√∫borov
- **ICMP**: Zabra≈àuje ping odpovediam pre reconnaissance
- **LLMNR/NetBIOS**: Blokuje star√© protokoly rozl√≠≈°enia mien

#### Bezpeƒçnos≈• aplik√°ci√≠
- **Makr√°**: Vyp√≠na vykon√°vanie makier v Office aplik√°ci√°ch
- **AutoRun**: Zabra≈àuje automatick√©mu spusteniu z odstr√°niteƒæn√Ωch m√©di√≠

#### Vzdialen√° spr√°va
- **PSRemoting**: Vyp√≠na vzdialen√© PowerShell rel√°cie
- **WinRM**: Zastavuje Windows Remote Management
- **Remote Assistance**: Blokuje pripojenia vzdialenej pomoci

#### Kontrola pr√≠stupu
- **Admin Shares**: Vyp√≠na C$, ADMIN$ zdieƒæania
- **Guest Account**: Vyp√≠na pr√≠stup √∫ƒçtu hos≈•a
- **USB Storage**: Obmedzuje pou≈æ√≠vanie USB zariaden√≠

### Azure integr√°cia
```powershell
# Pripojte sa k Azure tenant
Connect-AzureGhost -Interactive

# Povoƒæte predvolen√© nastavenia bezpeƒçnosti
Set-AzureSecurityDefaults -Enable

# Nakonfigurujte podmienen√Ω pr√≠stup
Set-AzureConditionalAccess -BlockLegacyAuth -RequireMFA

# Auditujte privilegovan√Ωch pou≈æ√≠vateƒæov
Set-AzurePrivilegedUsers -AuditOnly
```

### Intune integr√°cia (nov√© vo v2)
```powershell
# Pripojte sa k Intune
Connect-IntuneGhost -Interactive

# Nasaƒète cez Intune politiky
Set-IntuneGhost -Settings @{
    RDP = $true
    SMBv1 = $true
    USBStorage = $true
    Macros = $true
}
```

## ‚ö†Ô∏è D√¥le≈æit√© √∫vahy

### Po≈æiadavky na testovanie
- **Laborat√≥rne prostredie**: Najprv testujte v≈°etky nastavenia v izolovanom prostred√≠
- **Postupn√© nasadenie**: Postupne nasadzujte na identifik√°ciu probl√©mov
- **Pl√°n n√°vratnosti**: Zabezpeƒçte, ≈æe m√¥≈æete vr√°ti≈• zmeny v pr√≠pade potreby
- **Dokument√°cia**: Zaznamenajte, ktor√© nastavenia funguj√∫ pre va≈°e prostredie

### Potenci√°lny dopad
- **Produktivita pou≈æ√≠vateƒæa**: Niektor√© nastavenia m√¥≈æu ovplyvni≈• denn√© pracovn√© toky
- **Star≈°ie aplik√°cie**: Star≈°ie syst√©my m√¥≈æu vy≈æadova≈• ≈°pecifick√© protokoly
- **Vzdialen√Ω pr√≠stup**: Zv√°≈æte dopad na legit√≠mnu vzdialen√∫ spr√°vu
- **Obchodn√© procesy**: Overte, ≈æe nastavenia neru≈°ia kritick√© funkcie

### Bezpeƒçnostn√© obmedzenia
- **Obrana do hƒ∫bky**: Ghost je jedna vrstva bezpeƒçnosti, nie kompletn√© rie≈°enie
- **Nepretr≈æit√© riadenie**: Bezpeƒçnos≈• vy≈æaduje nepretr≈æit√© monitorovanie a aktualiz√°cie
- **≈†kolenie pou≈æ√≠vateƒæov**: Technick√° kontrola mus√≠ by≈• sp√°rovan√° s bezpeƒçnostn√Ωm povedom√≠m
- **Evol√∫cia hrozieb**: Nov√© met√≥dy √∫tokov m√¥≈æu ob√≠s≈• s√∫ƒçasn√∫ ochranu

## üéØ Pr√≠klady scen√°rov √∫tokov

Hoci Ghost ciela na be≈æn√© vektory √∫tokov, ≈°pecifick√° prevencia z√°vis√≠ od spr√°vnej implement√°cie a testovania:

### √ötoky v ≈°t√Ωle WannaCry
- **Zmier≈àovanie**: `Set-Ghost -SMBv1` vyp√≠na zraniteƒæn√Ω protokol
- **√övahy**: Zabezpeƒçte, ≈æe ≈æiadny star√Ω syst√©m nevy≈æaduje SMBv1

### RDP zalo≈æen√Ω ransomware
- **Zmier≈àovanie**: `Set-Ghost -RDP` blokuje pr√≠stup k vzdialenej ploche
- **√övahy**: M√¥≈æe vy≈æadova≈• alternat√≠vne met√≥dy vzdialen√©ho pr√≠stupu

### Malv√©r zalo≈æen√Ω na dokumentoch
- **Zmier≈àovanie**: `Set-Ghost -Macros` vyp√≠na vykon√°vanie makier
- **√övahy**: M√¥≈æe ovplyvni≈• legit√≠mne dokumenty s povolen√Ωmi makrami

### USB doruƒçen√© hrozby
- **Zmier≈àovanie**: `Set-Ghost -USBStorage -AutoRun` obmedzuje USB funkcionalitu
- **√övahy**: M√¥≈æe ovplyvni≈• legit√≠mne pou≈æ√≠vanie USB zariaden√≠

## üè¢ Podnikov√© funkcie

### Podpora Group Policy
```powershell
# Aplikujte nastavenia cez Group Policy registry
Set-Ghost -SMBv1 -RDP -AutoRun -GroupPolicy

# Nastavenia sa aplikuj√∫ v celej dom√©ne po GP obnove
gpupdate /force
```

### Microsoft Intune integr√°cia
```powershell
# Vytvorte Intune politiky pre Ghost nastavenia
Set-IntuneGhost -Settings $GhostSettings -Interactive

# Politiky sa automaticky nasadia na spravovan√© zariadenia
```

### Hl√°senie s√∫ladu
```powershell
# Vygenerujte spr√°vu hodnotenia bezpeƒçnosti
Get-Ghost | Export-Csv -Path "SecurityAudit-$(Get-Date -Format 'yyyy-MM-dd').csv"

# Azure spr√°va bezpeƒçnostn√©ho postoja
Get-AzureGhost | Out-File "AzureSecurityReport.txt"
```

## üìö Najlep≈°ie postupy

### Pred nasaden√≠m
1. **Dokumentujte s√∫ƒçasn√Ω stav**: Spustite `Get-Ghost` pred zmenami
2. **Starostlivo testujte**: Validujte v neprodukƒçnom prostred√≠
3. **Napl√°nujte rollback**: Vedzte, ako vr√°ti≈• ka≈æd√© nastavenie
4. **Presk√∫manie zainteresovan√Ωch str√°n**: Zabezpeƒçte, ≈æe obchodn√© jednotky schv√°lia zmeny

### Poƒças nasadenia
1. **Postupn√Ω pr√≠stup**: Najprv nasaƒète do pilotn√Ωch skup√≠n
2. **Monitorujte dopad**: Sledujte s≈•a≈ænosti pou≈æ√≠vateƒæov alebo syst√©mov√© probl√©my
3. **Dokumentujte probl√©my**: Zaznamenajte ak√©koƒævek probl√©my pre bud√∫ce referencie
4. **Komunikujte zmeny**: Informujte pou≈æ√≠vateƒæov o bezpeƒçnostn√Ωch vylep≈°eniach

### Po nasaden√≠
1. **Pravideln√© hodnotenie**: Periodicky sp√∫≈°≈•ajte `Get-Ghost` na overenie nastaven√≠
2. **Aktualizujte dokument√°ciu**: Udr≈æujte aktu√°lne bezpeƒçnostn√© konfigur√°cie
3. **Presk√∫majte efekt√≠vnos≈•**: Monitorujte bezpeƒçnostn√© incidenty
4. **Nepretr≈æit√© zlep≈°ovanie**: Upravujte nastavenia na z√°klade hrozbovej krajiny

## üîß Rie≈°enie probl√©mov

### Be≈æn√© probl√©my
- **Chyby opr√°vnen√≠**: Zabezpeƒçte zv√Ω≈°en√∫ PowerShell rel√°ciu
- **Z√°vislosti slu≈æieb**: Niektor√© slu≈æby m√¥≈æu ma≈• z√°vislosti
- **Kompatibilita aplik√°ci√≠**: Testujte s obchodn√Ωmi aplik√°ciami
- **Sie≈•ov√© pripojenie**: Overte, ≈æe vzdialen√Ω pr√≠stup st√°le funguje

### Mo≈ænosti obnovenia
```powershell
# Znovu povoƒæte ≈°pecifick√© slu≈æby v pr√≠pade potreby
Set-RDP -Enable
Set-SMBv1 -Enable
Set-AutoRun -Enable
Set-Macros -Enable
```

## üë®‚Äçüíª O autorovi

**Jim Tyler** - Microsoft MVP pre PowerShell
- **YouTube**: [@PowerShellEngineer](https://youtube.com/@PowerShellEngineer) (10,000+ odberateƒæov)
- **Newsletter**: [PowerShell.News](https://powershell.news) - T√Ω≈ædenn√© bezpeƒçnostn√© spravodajstvo
- **Autor**: "PowerShell for Systems Engineers"
- **Sk√∫senosti**: Desa≈•roƒçia PowerShell automatiz√°cie a Windows bezpeƒçnosti

## üìÑ Licencia a zrieknutie sa zodpovednosti

### MIT licencia
Ghost je poskytovan√Ω pod MIT licenciou pre bezplatn√© pou≈æ√≠vanie, √∫pravy a distrib√∫ciu.

### Bezpeƒçnostn√© zrieknutie sa zodpovednosti
- **≈Ωiadna z√°ruka**: Ghost je poskytovan√Ω "ako je" bez z√°ruky ak√©hokoƒævek druhu
- **Testovanie potrebn√©**: V≈ædy najprv testujte v neprodukƒçn√Ωch prostrediach
- **Profesion√°lne vedenie**: Poraƒète sa s bezpeƒçnostn√Ωmi profesion√°lmi pre produkƒçn√© nasadenia
- **Prev√°dzkov√Ω dopad**: Autori nie s√∫ zodpovedn√≠ za ≈æiadne prev√°dzkov√© naru≈°enia
- **Komplexn√° bezpeƒçnos≈•**: Ghost je jeden komponent v kompletnej bezpeƒçnostnej strat√©gii

### Podpora
- **GitHub Issues**: [Nahl√°ste chyby alebo po≈æiadajte o funkcie](https://github.com/jimrtyler/Ghost/issues)
- **Dokument√°cia**: Pou≈æite `Get-Help <function> -Full` pre podrobn√∫ pomoc
- **Komunita**: PowerShell a bezpeƒçnostn√© komunitn√© f√≥ra

---

**üîí Posilnite svoj bezpeƒçnostn√Ω postoj s Ghost - ale v≈ædy najprv testujte.**

```powershell
# Zaƒçnite s hodnoten√≠m, nie s predpokladmi
Get-Ghost
```

**‚≠ê Oznaƒçte hviezdicou tento repozit√°r, ak Ghost pom√°ha zlep≈°i≈• v√°≈° bezpeƒçnostn√Ω postoj!**